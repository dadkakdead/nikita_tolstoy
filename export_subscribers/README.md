# ChannelVisor: Экспорт списка подписчиков вашего Телеграм канала в CSV

### Вам понадобится
- python 3.9.6
- python-decouple 3.8
- Telethon 1.35.0

### Алгоритм действий
0. берём живой аккаунт в Телеграме, подойдёт личный (далее - аккаунт)

1. проверяем, что аккаунт является админом нужного канала

2. клонируем себе на комп этот репозиторий

3. создаём в репозитории файл .env и прописываем туда 4 константы
   - TG_APP_NAME=взять из https://my.telegram.org/apps
   - TG_API_ID=взять из https://my.telegram.org/apps
   - TG_API_HASH=<взять из https://my.telegram.org/apps
   - TG_CHANNEL_ID=<отправить произвольный пост из канала в бот @userinfobot, 
скопировать выданный Id>

4. запускаем скрипт ``p11-save_session_string.py``, получаем свою строку-сессию в 
Телеграме, добавляем её в .env файл как константу 
   - SESSION_STRING

5. поочерёдно выполнить скрипт ``p12-get_subscribers.py`` для всех букв латинского алфавита 
и цифр 0-9 (это неэффективно, но позволяет естественным образом получить задержку, 
снижающую риск бана по частоте использование api)

   ```[bash]
   python p12-get_subscribers.py a
   ...
   python p12-get_subscribers.py z
   ```


6. выполнить скрипт ``p13-extract_subscribers_logins.py`` и проверить 
по файлу ``OUTPUT_subscribers.txt``, что число выгруженных подписчиков 
совпадает с актуальным числом подписчиков в канале хотя бы примерно 
(отличия будут на тех, у кого нет логина в Телеграме; только телефон или id. 
скорее всего не всё выгрузилось, так как упёрлись в ограничение "более 200 аккаунтов,
содержащих букву X найдено")


### Обратная связь
- Никита Толстой, https://t.me/dadkakdead
- CPO B2C @ Яндекс Лавка
- Подписывайтесь на мой Телеграм-канал: https://t.me/nikita_tolstoy
- Мой LinkedIn: https://www.linkedin.com/in/nikita-tolstoy/